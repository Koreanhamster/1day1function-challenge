<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor"
      crossorigin="anonymous"
    />

    <style></style>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <!-- <div class="col-sm-4">
          <img src="https://via.placeholder.com/600" class="w-100" />
          <h5>Card title</h5>
          <p>가격 : 70000</p>
        </div> -->
      </div>
    </div>
    <div class="container">
      <button class="btn btn-danger">더보기</button>
    </div>

    <script>
      var products = [
        { id: 0, price: 90000, title: 'Blossom Dress' },
        { id: 1, price: 50000, title: 'Springfield Shirt' },
        { id: 2, price: 60000, title: 'Black Monastery' },
      ];

      let box = document.querySelector('.row');

      products.forEach((a) => {
        let tamplate = `<div class="col-sm-4">
          <img src="https://via.placeholder.com/600" class="w-100" />
          <h5>${a.title}</h5>
          <p>가격 : ${a.price}</p>
        </div>`;

        box.insertAdjacentHTML('beforeEnd', tamplate);
      });

      // https://codingapple1.github.io/js/more1.json
      // https://codingapple1.github.io/js/more2.json

      let count = 0;
      let btn = document.querySelector('.btn');

      btn.addEventListener('click', function () {
        count++;
        console.log(count);

        if (count == 1) {
          fetch('https://codingapple1.github.io/js/more1.json').then(
            (response) => {
              response.json().then((data) => {
                console.log(data);

                data.forEach(function (a) {
                  fetchHTML(a);
                });
              });
            }
          );
        } else if (count == 2) {
          fetch('https://codingapple1.github.io/js/more2.json').then(
            (response) => {
              response.json().then((data) => {
                console.log(data);

                data.forEach(function (a) {
                  fetchHTML(a);
                });
              });
            }
          );
        }
      });

      let fetchHTML = function (a) {
        let tamplate = `<div class="col-sm-4">
                  <img src="https://via.placeholder.com/600" class="w-100" />
                  <h5>${a.title}</h5>
                  <p>가격 : ${a.price}</p>
                    </div>`;

        box.insertAdjacentHTML('beforeEnd', tamplate);
      };
    </script>
  </body>
</html>
